(function($){'use strict';$(document).ready(function(){var formElement=$('select#id_organization');while(formElement.prop('tagName')!=='FORM'){formElement=formElement.parent();}
formElement.submit(function(){var target=$('select#id_organization option:selected');if(target.val()==='null'){target.val('');}});if(!$('select#id_organization').val()){var orgField=$('#id_organization'),pathName=window.location.pathname.split('/');if(pathName[pathName.length-2]=='change'){orgField.val('null');orgField.trigger('change');return;}
$.ajax({url:orgField.data('ajax--url'),data:{app_label:orgField.data('app-label'),model_name:orgField.data('model-name'),field_name:orgField.data('field-name')},success:function(data){if(data.results.length===1){var option=new Option(data.results[0].text,data.results[0].id,true,true);orgField.append(option).trigger('change');orgField.trigger({type:'select2:select',params:{data:data.results[0]}});}}});}});}(django.jQuery));